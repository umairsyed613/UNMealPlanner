<div class="d-flex flex-column cal-container user-select-none">
    <div class="d-flex flex-row justify-content-center w-100">
        <div class="calendar-header w-100">
            <button id="SwitchView" class="btn float-right" @onclick="@(() => ChangeView?.Invoke())" data-toggle="tooltip" data-placement="top" title="Tap to switch view">
                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-phone" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" d="M11 1H5a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM5 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H5z" />
                    <path fill-rule="evenodd" d="M8 14a1 1 0 1 0 0-2 1 1 0 0 0 0 2z" />
                </svg>
            </button>
            <h1>
                @CalendarBuilder.GetMonthName(DateTime.Now.Year, DateTime.Now.Month)
            </h1>
            <p>2020</p>
        </div>
    </div>

    <div class="d-flex flex-row flex-nowrap dayname-border-top">
        <span class="day-name day-border-right">Mon</span>
        <span class="day-name day-border-right">Tue</span>
        <span class="day-name day-border-right">Wed</span>
        <span class="day-name day-border-right">Thu</span>
        <span class="day-name day-border-right">Fri</span>
        <span class="day-name day-border-right">Sat</span>
        <span class="day-name">Sun</span>
    </div>

    @foreach (var data in CalenderData.SplitList(7))
    {
        <CalendarRow Data="@data" />
    }


</div>

@code
{
    [Parameter]
    public Action ChangeView { get; set; }

    List<CalenderViewItem> CalenderData = null;

    protected override void OnInitialized()
    {
        base.OnInitialized();
        CalenderData = CalendarBuilder.GetDaysOfMonthForView(DateTime.Now.Year, DateTime.Now.Month);
    }
}